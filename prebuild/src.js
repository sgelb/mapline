parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"9qmE":[function(require,module,exports) {
"use strict";function t(t,a){return r(t)||i(t,a)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(t,e){var i=[],r=!0,a=!1,l=void 0;try{for(var n,s=t[Symbol.iterator]();!(r=(n=s.next()).done)&&(i.push(n.value),!e||i.length!==e);r=!0);}catch(d){a=!0,l=d}finally{try{r||null==s.return||s.return()}finally{if(a)throw l}}return i}function r(t){if(Array.isArray(t))return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class a{constructor(){this._validity=new Map,this._enablees=[]}enableWhenAllValid(t){this._enablees.push(t)}add(t){t.form.parentNode.nextElementSibling.innerHTML=t.msg||"",this._validity.set(t.form.id,!0),this._addEventListener(t)}allValid(){var t=!0,e=!1,i=void 0;try{for(var r,a=this._validity.values()[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){if(!1===r.value)return!1}}catch(l){e=!0,i=l}finally{try{t||null==a.return||a.return()}finally{if(e)throw i}}return!0}resetInvalidForms(){if(!this.allValid()){var e=!0,i=!1,r=void 0;try{for(var a,l=this._validity[Symbol.iterator]();!(e=(a=l.next()).done);e=!0){let e=t(a.value,2),i=e[0];if(!1===e[1]){let t=document.getElementById(i);t.value=t.defaultValue,this._validation(!0,t)}}}catch(n){i=!0,r=n}finally{try{e||null==l.return||l.return()}finally{if(i)throw r}}}}_addEventListener(t){t.form.addEventListener("input",()=>{this._validation(t.validity(t.form.value),t.form)})}_validation(t,e){let i=e.parentNode;t?(i.parentNode.classList.remove("has-danger"),i.nextElementSibling.classList.add("hidden"),this._validity.set(e.id,!0),this._unlock()):(i.parentNode.classList.add("has-danger"),i.nextElementSibling.classList.remove("hidden"),this._validity.set(e.id,!1),this._lock())}_unlock(){this.allValid()&&this._enablees.forEach(t=>t.removeAttribute("disabled"))}_lock(){this._enablees.forEach(t=>t.setAttribute("disabled","true"))}}var l=a;exports.default=l;
},{}],"Kb8R":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,e=arguments[3];!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof t&&t.amd?t(r):(e=e||self).mapboxgl=r()}(this,function(){"use strict";var t,e,r;function i(i,n){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),(r=n(a)).workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))}else e=n;else t=n}return i(0,function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var r=i;function i(t,e,r,i){this.cx=3*.*.js/api/.")},n.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=r.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=r.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=r.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var n=this._controlContainer=r.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=r.create("div","mapboxgl-ctrl-"+t,n)})},n.prototype._resizeCanvas=function(e,r){var i=t.window.devicePixelRatio||1;this._canvas.width=i*e,this._canvas.height=i*r,this._canvas.style.width=e+"px",this._canvas.style.height=r+"px"},n.prototype._setupPainter=function(){var r=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);i?(this.painter=new oi(i,this.transform),t.webpSupported.testSupport(i)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},n.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},n.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},n.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},n.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},n.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},n.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},n.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var r=this.transform.zoom,i=t.browser.now();this.style.zoomHistory.update(r,i);var n=new t.EvaluationParameters(r,{now:i,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=n.crossFadingFactor();1===o&&o===this._crossFadingFactor||(e=!0,this._crossFadingFactor=o),this.style.update(n)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),this},n.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,r=this._controls;e<r.length;e+=1)r[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),Bi(this._canvasContainer),Bi(this._controlContainer),Bi(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},n.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame(function(){e._frame=null,e._render()}))},n.prototype._onWindowOnline=function(){this._update()},n.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},Object.defineProperties(n.prototype,o),n}(Ii);function Bi(t){t.parentNode&&t.parentNode.removeChild(t)}var Ri={showCompass:!0,showZoom:!0},Fi=function(e){var i=this;this.options=t.extend({},Ri,e),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(t.bindAll(["_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",function(){return i._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",function(){return i._map.zoomOut()})),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",function(){return i._map.resetNorth()}),this._compassArrow=r.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function Oi(e,r,i){if(e=new t.LngLat(e.lng,e.lat),r){var n=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=i.locationPoint(e).distSqr(r);i.locationPoint(n).distSqr(r)<a?e=n:i.locationPoint(o).distSqr(r)<a&&(e=o)}for(;Math.abs(e.lng-i.center.lng)>180;){var s=i.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=i.width&&s.y<=i.height)break;e.lng>i.center.lng?e.lng-=360:e.lng+=360}return e}Fi.prototype._updateZoomButtons=function(){var t=this._map.getZoom();this._zoomInButton.classList.toggle("mapboxgl-ctrl-icon-disabled",t===this._map.getMaxZoom()),this._zoomOutButton.classList.toggle("mapboxgl-ctrl-icon-disabled",t===this._map.getMinZoom())},Fi.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},Fi.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _i(t,{button:"left",element:this._compass}),r.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},Fi.prototype.onRemove=function(){r.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),r.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},Fi.prototype._createButton=function(t,e,i){var n=r.create("button",t,this._container);return n.type="button",n.title=e,n.setAttribute("aria-label",e),n.addEventListener("click",i),n};var Ui={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Vi(t,e,r){var i=t.classList;for(var n in Ui)i.remove("mapboxgl-"+r+"-anchor-"+n);i.add("mapboxgl-"+r+"-anchor-"+e)}var Ni,ji=function(e){function i(i,n){if(e.call(this),(i instanceof t.window.HTMLElement||n)&&(i=t.extend({element:i},n)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._draggable=i&&i.draggable||!1,this._state="inactive",i&&i.element)this._element=i.element,this._offset=t.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=r.create("div");var o=r.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=r.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var u=r.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var l=0,p=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<p.length;l+=1){var c=p[l],h=r.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",c.rx),h.setAttributeNS(null,"ry",c.ry),u.appendChild(h)}var f=r.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill",this._color);var d=r.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(d);var m=r.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var y=r.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(y);var v=r.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(6.0, 7.0)"),v.setAttributeNS(null,"fill","#FFFFFF");var _=r.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(8.0, 8.0)");var g=r.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");var x=r.createNS("http://www.w3.org/2000/svg","circle");x.setAttributeNS(null,"fill","#FFFFFF"),x.setAttributeNS(null,"cx","5.5"),x.setAttributeNS(null,"cy","5.5"),x.setAttributeNS(null,"r","5.4999962"),_.appendChild(g),_.appendChild(x),s.appendChild(u),s.appendChild(f),s.appendChild(m),s.appendChild(v),s.appendChild(_),o.appendChild(s),this._element.appendChild(o),this._offset=t.Point.convert(i&&i.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(t){t.preventDefault()}),Vi(this._element,this._anchor,"marker"),this._popup=null}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},i.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},i.prototype.getElement=function(){return this._element},i.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},i.prototype._onMapClick=function(t){var e=t.originalEvent.target,r=this._element;this._popup&&(e===r||r.contains(e))&&this.togglePopup()},i.prototype.getPopup=function(){return this._popup},i.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},i.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Oi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),r.setTransform(this._element,Ui[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"))},i.prototype.getOffset=function(){return this._offset},i.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},i.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},i.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},i.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},i.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},i.prototype.isDraggable=function(){return this._draggable},i}(t.Evented),qi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Zi=function(e){function i(r){e.call(this),this.options=t.extend({},qi,r),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(e){var i;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==Ni?i(Ni):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then(function(t){Ni="denied"!==t.state,i(Ni)}):(Ni=!!t.window.navigator.geolocation,i(Ni)),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),r.remove(this._container),this._map=void 0},i.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},i.prototype._updateCamera=function(e){var r=new t.LngLat(e.coords.longitude,e.coords.latitude),i=e.coords.accuracy,n=this._map.getBearing(),o=t.extend({bearing:n},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(i),o,{geolocateSource:!0})},i.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},i.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var i=this;!1!==e?(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=r.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=r.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new ji(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==i._watchState||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new t.Event("trackuserlocationend")))})):t.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},i.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},i.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),Gi={maxWidth:100,unit:"metric"},Xi=function(e){this.options=t.extend({},Gi,e),t.bindAll(["_onMove","setUnit"],this)};function Wi(t,e,r){var i,n,o,a,s,u,l=r&&r.maxWidth||100,p=t._container.clientHeight/2,c=(i=t.unproject([0,p]),n=t.unproject([l,p]),o=Math.PI/180,a=i.lat*o,s=n.lat*o,u=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((n.lng-i.lng)*o),6371e3*Math.acos(Math.min(u,1)));if(r&&"imperial"===r.unit){var h=3.2808*c;h>5280?Ki(e,l,h/5280,"mi"):Ki(e,l,h,"ft")}else r&&"nautical"===r.unit?Ki(e,l,c/1852,"nm"):Ki(e,l,c,"m")}function Ki(t,e,r,i){var n,o,a,s=(n=r,(o=Math.pow(10,(""+Math.floor(n)).length-1))*(a=(a=n/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a))),u=s/r;"m"===i&&s>=1e3&&(s/=1e3,i="km"),t.style.width=e*u+"px",t.innerHTML=s+i}Xi.prototype.getDefaultPosition=function(){return"bottom-left"},Xi.prototype._onMove=function(){Wi(this._map,this._container,this.options)},Xi.prototype.onAdd=function(t){return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Xi.prototype.onRemove=function(){r.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Xi.prototype.setUnit=function(t){this.options.unit=t,Wi(this._map,this._container,this.options)};var Hi=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Hi.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=r.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Hi.prototype.onRemove=function(){r.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Hi.prototype._setupUI=function(){(this._fullscreenButton=r.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer)).type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._updateTitle=function(){var t=this._isFullscreen()?"Exit fullscreen":"Enter fullscreen";this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},Hi.prototype._isFullscreen=function(){return this._fullscreen},Hi.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"),this._updateTitle())},Hi.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ji={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Yi=function(e){function i(r){e.call(this),this.options=t.extend(Object.create(Ji),r),t.bindAll(["_update","_onClickClose","remove"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&r.remove(this._content),this._container&&(r.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._update(),this},i.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},i.prototype.setHTML=function(e){var r,i=t.window.document.createDocumentFragment(),n=t.window.document.createElement("body");for(n.innerHTML=e;r=n.firstChild;)i.appendChild(r);return this.setDOMContent(i)},i.prototype.getMaxWidth=function(){return this._container.style.maxWidth},i.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},i.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},i.prototype._createContent=function(){this._content&&r.remove(this._content),this._content=r.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=r.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},i.prototype._update=function(){var e=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=r.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=r.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(t){return e._container.classList.add(t)})),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&(this._lngLat=Oi(this._lngLat,this._pos,this._map.transform));var i=this._pos=this._map.project(this._lngLat),n=this.options.anchor,o=function e(r){if(r){if("number"==typeof r){var i=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new t.Point(0,0),top:new t.Point(0,r),"top-left":new t.Point(i,i),"top-right":new t.Point(-i,i),bottom:new t.Point(0,-r),"bottom-left":new t.Point(i,-i),"bottom-right":new t.Point(-i,-i),left:new t.Point(r,0),right:new t.Point(-r,0)}}if(r instanceof t.Point||Array.isArray(r)){var n=t.Point.convert(r);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:t.Point.convert(r.center||[0,0]),top:t.Point.convert(r.top||[0,0]),"top-left":t.Point.convert(r["top-left"]||[0,0]),"top-right":t.Point.convert(r["top-right"]||[0,0]),bottom:t.Point.convert(r.bottom||[0,0]),"bottom-left":t.Point.convert(r["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(r["bottom-right"]||[0,0]),left:t.Point.convert(r.left||[0,0]),right:t.Point.convert(r.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!n){var a,s=this._container.offsetWidth,u=this._container.offsetHeight;a=i.y+o.bottom.y<u?["top"]:i.y>this._map.transform.height-u?["bottom"]:[],i.x<s/2?a.push("left"):i.x>this._map.transform.width-s/2&&a.push("right"),n=0===a.length?"bottom":a.join("-")}var l=i.add(o[n]).round();r.setTransform(this._container,Ui[n]+" translate("+l.x+"px,"+l.y+"px)"),Vi(this._container,n,"popup")}},i.prototype._onClickClose=function(){this.remove()},i}(t.Evented),$i={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,Map:Di,NavigationControl:Fi,GeolocateControl:Zi,AttributionControl:zi,ScaleControl:Xi,FullscreenControl:Hi,Popup:Yi,Marker:ji,Style:Re,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Lt.workerCount},set workerCount(t){Lt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},workerUrl:""};return $i}),r});
},{}],"vzXG":[function(require,module,exports) {
function t(n){if(n=Object.assign({},n),!(this instanceof t))throw new Error("MapboxLanguage needs to be called with the new keyword");this.setLanguage=this.setLanguage.bind(this),this._initialStyleUpdate=this._initialStyleUpdate.bind(this),this._defaultLanguage=n.defaultLanguage,this._isLanguageField=n.languageField||/^\{name/,this._getLanguageField=n.getLanguageField||function(t){return"mul"===t?"{name}":"{name_"+t+"}"},this._languageSource=n.languageSource||null,this._languageTransform=n.languageTransform||function(t,n){return"ar"===n?a(t):e(t)},this._excludedLayerIds=n.excludedLayerIds||[],this.supportedLanguages=n.supportedLanguages||["ar","en","es","fr","de","ja","ko","mul","pt","ru","zh"]}function e(t){var e=t.layers.map(function(t){if(!(t.layout||{})["text-field"])return t;var e=0;return"state_label"===t["source-layer"]&&(e=.15),"marine_label"===t["source-layer"]&&(/-lg/.test(t.id)&&(e=.25),/-md/.test(t.id)&&(e=.15),/-sm/.test(t.id)&&(e=.1)),"place_label"===t["source-layer"]&&(/-suburb/.test(t.id)&&(e=.15),/-neighbour/.test(t.id)&&(e=.1),/-islet/.test(t.id)&&(e=.01)),"airport_label"===t["source-layer"]&&(e=.01),"rail_station_label"===t["source-layer"]&&(e=.01),"poi_label"===t["source-layer"]&&/-scalerank/.test(t.id)&&(e=.01),"road_label"===t["source-layer"]&&(/-label-/.test(t.id)&&(e=.01),/-shields/.test(t.id)&&(e=.05)),Object.assign({},t,{layout:Object.assign({},t.layout,{"text-letter-spacing":e})})});return Object.assign({},t,{layers:e})}function a(t){var e=t.layers.map(function(t){if(!(t.layout||{})["text-field"])return t;return Object.assign({},t,{layout:Object.assign({},t.layout,{"text-letter-spacing":0})})});return Object.assign({},t,{layers:e})}function n(t,e){return"string"==typeof e&&t.test(e)}function i(t,e){return e.stops&&e.stops.filter(function(e){return t.test(e[1])}).length>0}function r(t,e,a){if(n(t,e))return a;if(i(t,e)){var r=e.stops.map(function(e){return t.test(e[1])?[e[0],a]:e});return Object.assign({},e,{stops:r})}return e}function s(t,e,a,n){return e.layout&&e.layout["text-field"]&&-1===n.indexOf(e.id)?Object.assign({},e,{layout:Object.assign({},e.layout,{"text-field":r(t,e.layout["text-field"],a)})}):e}function u(t){return Object.keys(t.sources).filter(function(e){var a=t.sources[e];return/mapbox-streets-v\d/.test(a.url)})[0]}function o(t){var e=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage,a=e.split("-"),n=e;return a.length>1&&(n=a[0]),t.indexOf(n)>-1?n:null}function l(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(a[r]=i[r])}return a},writable:!0,configurable:!0})}t.prototype.setLanguage=function(t,e){if(this.supportedLanguages.indexOf(e)<0)throw new Error("Language "+e+" is not supported");var a=this._languageSource||u(t);if(!a)return t;var n=this._getLanguageField(e),i=this._isLanguageField,r=this._excludedLayerIds,o=t.layers.map(function(t){return t.source===a?s(i,t,n,r):t}),l=Object.assign({},t,{layers:o});return this._languageTransform(l,e)},t.prototype._initialStyleUpdate=function(){var t=this._map.getStyle(),e=this._defaultLanguage||o(this.supportedLanguages);this._map.off("styledata",this._initialStyleUpdate),this._map.setStyle(this.setLanguage(t,e))},t.prototype.onAdd=function(t){return this._map=t,this._map.on("styledata",this._initialStyleUpdate),this._container=document.createElement("div"),this._container},t.prototype.onRemove=function(){this._map.off("styledata",this._initialStyleUpdate),this._map=void 0},"undefined"!=typeof module&&void 0!==module.exports?module.exports=t:(l(),window.MapboxLanguage=t);
},{}],"Ho1s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e={subtitle:{en:"Create maps along a track in print quality.",de:"Erstelle druckbare Karten entlang deiner Route."},track:{en:"Track",de:"Route"},example:{en:"Example",de:"Beispiel"},open_file:{en:"Open gpx or kml file",de:"Öffne gpx- oder kml-Datei"},track_length:{en:"Distance",de:"Länge"},track_ascent_descent:{en:"Ascent/Descent",de:"Auf- und Abstieg"},track_ascent:{en:"Ascent",de:"Aufstieg"},track_descent:{en:"Descent",de:"Abstieg"},track_min_max_elevation:{en:"Min/Max elevation",de:"Niedrigster/höchster Punkt"},map:{en:"Map",de:"Karte"},map_sheets:{en:"Map sheets",de:"Kartenteile"},map_style:{en:"Map style",de:"Kartenstil"},scale:{en:"Scale",de:"Maßstab"},pdf_format:{en:"PDF format",de:"PDF-Format"},advanced:{en:"Advanced options",de:"Erweiterte Optionen"},milemarkers:{en:"Distance markers",de:"Abstandsmarker"},margin:{en:"Map margin",de:"Randbreite um Karte"},padding:{en:"Track padding",de:"Abstand Track und Kartenrand"},dpi:{en:"Resolution",de:"Auflösung"},track_width:{en:"Track width",de:"Trackbreite"},track_color:{en:"Track color",de:"Trackfarbe"},pois:{en:"Show POIs",de:"POIs anzeigen"},show_waypoints:{en:"Show GPX waypoints",de:"GPX-Wegpunkte anzeigen"},pois_header:{en:"Points of Interest. Downloading may take a while. Only the printable areas are searched for POIs. Toggle to refresh.",de:"Points of Interest. Das Herunterladen kann etwas dauern, bitte Geduld. Es wird nur für die druckbaren Bereiche gesucht. Zum Aktualisieren ab- und wieder anwählen."},generate:{en:"Generate PDF",de:"PDF erstellen"},generating_pdf:{en:"Generating PDF",de:"Erstelle PDF"},initializing:{en:"Initializing&hellip;",de:"Initialisiere&hellip;"},cancel:{en:"Cancel",de:"Abbrechen"},msg_js_required:{en:"This site requires JavaScript",de:"Diese Seite benötigt JavaScript."},msg_render_a6:{en:"Your device can only render PDFs in A6. For larger formats, try a device with a better graphics card.",de:"Dein Rechner kann nur PDFs in A6 erstellen. Nutze ein Gerät mit besserer Grafikkarte für größere Formate."},msg_no_render:{en:"Sorry, your device can't render high-res maps. Please try a device with a better graphics card.",de:"Leider kann dein Gerät keine hochauflösenden Karten erstellen. Nutze ein Gerät mit besserer Grafikkarte."},msg_mapbox_error:{en:"I'm sorry, your browser ist not support by Mapline.",de:"Es tut uns leid, dein Browser wird von Mapline nicht unterstützt."},msg_canceling:{en:"Canceling",de:"Abbrechen"},msg_of:{en:"of",de:"von"},validate_scale:{en:"Scale must be 1:5000 or larger!",de:"Maßstab muß mindestens 1:5000 betragen!"},validate_larger_zero:{en:"Value must be 0 or larger!",de:"Wert muß mindestens 0 betragen!"},validate_between_zero_and_fifty:{en:"Value must be between 0 and 50!",de:"Wert muß zwischen 0 - 50 sein!"},atm:{en:"ATM/Bank",de:"Bank/-automat"},bakery:{en:"Bakery",de:"Bäckerei"},bike_shop:{en:"Bike shop",de:"Fahrradladen"},cafe:{en:"Café"},camping:{en:"Camping site",de:"Zeltplatz"},drinking_water:{en:"Drinking water",de:"Trinkwasser"},graveyard:{en:"Cemetery",de:"Friedhof"},hospitals:{en:"Hospital",de:"Krankenhaus"},information:{en:"Tourist information",de:"Touristinformation"},pharmacy:{en:"Pharmacy",de:"Apotheke"},picnic:{en:"Picnic site",de:"Picknickplatz"},restaurant:{en:"Restaurant"},shelter:{en:"Shelter",de:"Unterstand"},supermarket:{en:"Supermarket",de:"Supermarkt"}};class t{constructor(){this._defaultLanguage="en",this._supportedLanguages=["en","de"],this._lang=this._getSupportedBrowserLanguage()}_getSupportedBrowserLanguage(){const e=navigator.languages.find(e=>this._supportedLanguages.includes(e.substring(0,2)));return void 0===e?this._defaultLanguage:e.substring(0,2)}_translateTitleFields(t){t.querySelectorAll("[data-title-trn]").forEach(t=>{void 0===e[t.dataset.titleTrn]?console.error("No translation for "+t.dataset.titleTrn):t.setAttribute("title",this.translateString(t.dataset.titleTrn))})}translateAll(){this.translate(document),this._translateTitleFields(document)}translate(t){t.querySelectorAll("[data-trn]").forEach(t=>{void 0!==e[t.dataset.trn]?t.hasChildNodes()?t.childNodes[0].nodeValue=this.translateString(t.dataset.trn):t.innerHTML=this.translateString(t.dataset.trn):console.error("No translation for "+t.dataset.trn)})}translateString(t){return e[t][this._lang]||e[t][this._defaultLanguage]}currentLanguage(){return this._lang}}var n=t;exports.default=n;
},{}],"1PDS":[function(require,module,exports) {
"use strict";function e(e,t){return e.getSource(t)}function t(e,t){e.addSource(t,{type:"geojson",data:o()})}function o(){return{type:"FeatureCollection",features:[]}}function r(e){return e.getLayer("housenum-label")?"housenum-label":e.getLayer("motorway-junction")?"motorway-junction":void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const n={add(o,n){const u=n.id;e(o,u)||(t(o,u),o.addLayer(n.layer,r(o)))},setVisibility(e,t,o){e.setLayoutProperty(t,"visibility",o?"visible":"none")}};var u=n;exports.default=u;
},{}],"lP+j":[function(require,module,exports) {
"use strict";function t(t,a){return n(t)||r(t,a)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(t,e){var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=t[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!e||r.length!==e);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}function n(t){if(Array.isArray(t))return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const a=new Map;a.set("a0",[841,1189]),a.set("a1",[594,841]),a.set("a2",[420,594]),a.set("a3",[297,420]),a.set("a4",[210,297]),a.set("a5",[148,210]),a.set("a6",[105,148]),a.set("tabloid",[279,432]),a.set("legal",[216,356]),a.set("letter",[216,279]);const o={dimensions(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"p",o=t(a.get(e).map(t=>t-=2*r),2),l=o[0],i=o[1];if("l"===n){var s=[i,l];l=s[0],i=s[1]}return[l,i]},validFormats(e){const r=[];var n=!0,o=!1,l=void 0;try{for(var i,s=a[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){let n=t(i.value,2),a=n[0],o=n[1];o[0]*o[1]<=e&&r.push(a)}}catch(u){o=!0,l=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw l}}return r}};var l=o;exports.default=l;
},{}],"wPyI":[function(require,module,exports) {
"use strict";function t(t,n){return new i(t,n)}module.exports=t,module.exports.default=t;var n=t.units={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254};function i(t,i){if(void 0===t)throw new Error("No latitude given.");if(i&&!n[i])throw new Error("Unknown unit "+i+". Use one of: "+Object.keys(n).join(", "));var r=i?n[i]:1,e=Math.cos(t*Math.PI/180),a=2*e*e-1,h=2*e*a-e,s=2*e*h-a,o=2*e*s-h;this.kx=r*(111.41513*e-.09455*h+12e-5*o),this.ky=r*(111.13209-.56605*a+.0012*s)}function r(t,n){return t[0]===n[0]&&t[1]===n[1]}function e(t,n,i){var r=n[0]-t[0],e=n[1]-t[1];return[t[0]+r*i,t[1]+e*i]}t.fromTile=function(t,n,r){var e=Math.PI*(1-2*(t+.5)/Math.pow(2,n));return new i(180*Math.atan(.5*(Math.exp(e)-Math.exp(-e)))/Math.PI,r)},i.prototype={distance:function(t,n){var i=(t[0]-n[0])*this.kx,r=(t[1]-n[1])*this.ky;return Math.sqrt(i*i+r*r)},bearing:function(t,n){var i=(n[0]-t[0])*this.kx,r=(n[1]-t[1])*this.ky;if(!i&&!r)return 0;var e=180*Math.atan2(i,r)/Math.PI;return e>180&&(e-=360),e},destination:function(t,n,i){var r=(90-i)*Math.PI/180;return this.offset(t,Math.cos(r)*n,Math.sin(r)*n)},offset:function(t,n,i){return[t[0]+n/this.kx,t[1]+i/this.ky]},lineDistance:function(t){for(var n=0,i=0;i<t.length-1;i++)n+=this.distance(t[i],t[i+1]);return n},area:function(t){for(var n=0,i=0;i<t.length;i++)for(var r=t[i],e=0,a=r.length,h=a-1;e<a;h=e++)n+=(r[e][0]-r[h][0])*(r[e][1]+r[h][1])*(i?-1:1);return Math.abs(n)/2*this.kx*this.ky},along:function(t,n){var i=0;if(n<=0)return t[0];for(var r=0;r<t.length-1;r++){var a=t[r],h=t[r+1],s=this.distance(a,h);if((i+=s)>n)return e(a,h,(n-(i-s))/s)}return t[t.length-1]},pointOnLine:function(t,n){for(var i,r,e,a,h=1/0,s=0;s<t.length-1;s++){var o=t[s][0],u=t[s][1],f=(t[s+1][0]-o)*this.kx,c=(t[s+1][1]-u)*this.ky;if(0!==f||0!==c){var v=((n[0]-o)*this.kx*f+(n[1]-u)*this.ky*c)/(f*f+c*c);v>1?(o=t[s+1][0],u=t[s+1][1]):v>0&&(o+=f/this.kx*v,u+=c/this.ky*v)}var k=(f=(n[0]-o)*this.kx)*f+(c=(n[1]-u)*this.ky)*c;k<h&&(h=k,i=o,r=u,e=s,a=v)}return{point:[i,r],index:e,t:Math.max(0,Math.min(1,a))}},lineSlice:function(t,n,i){var e=this.pointOnLine(i,t),a=this.pointOnLine(i,n);if(e.index>a.index||e.index===a.index&&e.t>a.t){var h=e;e=a,a=h}var s=[e.point],o=e.index+1,u=a.index;!r(i[o],s[0])&&o<=u&&s.push(i[o]);for(var f=o+1;f<=u;f++)s.push(i[f]);return r(i[u],a.point)||s.push(a.point),s},lineSliceAlong:function(t,n,i){for(var r=0,a=[],h=0;h<i.length-1;h++){var s=i[h],o=i[h+1],u=this.distance(s,o);if((r+=u)>t&&0===a.length&&a.push(e(s,o,(t-(r-u))/u)),r>=n)return a.push(e(s,o,(n-(r-u))/u)),a;r>t&&a.push(o)}return a},bufferPoint:function(t,n){var i=n/this.ky,r=n/this.kx;return[t[0]-r,t[1]-i,t[0]+r,t[1]+i]},bufferBBox:function(t,n){var i=n/this.ky,r=n/this.kx;return[t[0]-r,t[1]-i,t[2]+r,t[3]+i]},insideBBox:function(t,n){return t[0]>=n[0]&&t[0]<=n[2]&&t[1]>=n[1]&&t[1]<=n[3]}};
},{}],"P+I3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("mapbox-gl")),s=e(require("cheap-ruler"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t,s){return i(t)||r(t,s)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(t,s){var e=[],n=!0,o=!1,r=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(e.push(i.value),!s||e.length!==s);n=!0);}catch(h){o=!0,r=h}finally{try{n||null==u.return||u.return()}finally{if(o)throw r}}return e}function i(t){if(Array.isArray(t))return t}class u{constructor(e){this._lat=e,this._ruler=(0,s.default)(e,"meters"),this.bounds=new t.default.LngLatBounds}_dimensions(){return[this._ruler.distance([this.bounds.getWest(),this.bounds.getNorth()],[this.bounds.getEast(),this.bounds.getNorth()]),this._ruler.distance([this.bounds.getWest(),this.bounds.getNorth()],[this.bounds.getWest(),this.bounds.getSouth()])]}_linestring(){return[[this.bounds.getWest(),this.bounds.getNorth()],[this.bounds.getEast(),this.bounds.getNorth()],[this.bounds.getEast(),this.bounds.getSouth()],[this.bounds.getWest(),this.bounds.getSouth()],[this.bounds.getWest(),this.bounds.getNorth()]]}extend(t){this.bounds.extend(t.slice(0,2))}largerThan(t,s){let e=n(this._dimensions(),2),o=e[0],r=e[1];return(o>t||r>s)&&(r>t||o>s)}resize(t,s){const e=n(this._dimensions(),2),o=e[0],r=e[1];let i=.5*(t-o),u=.5*(s-r);r<o&&(i=.5*(s-o),u=.5*(t-r));let h=this._ruler.destination([this.bounds.getWest(),this.bounds.getNorth()],i,270)[0],d=this._ruler.destination([this.bounds.getWest(),this.bounds.getSouth()],u,180)[1],a=this._ruler.destination([this.bounds.getEast(),this.bounds.getNorth()],i,90)[0],l=this._ruler.destination([this.bounds.getWest(),this.bounds.getNorth()],u,0)[1];this.bounds.setSouthWest([h,d]),this.bounds.setNorthEast([a,l])}revertTo(t){this.bounds=t}toFeature(){const t=n(this._dimensions(),2),s=t[0],e=t[1];return{type:"Feature",bbox:this.bounds,geometry:{type:"Polygon",coordinates:[this._linestring()]},properties:{width:s,height:e}}}cloneBounds(){return this.bounds.isEmpty()?new t.default.LngLatBounds:t.default.LngLatBounds.convert(this.bounds.toArray())}}var h=u;exports.default=h;
},{"mapbox-gl":"Kb8R","cheap-ruler":"wPyI"}],"lU0K":[function(require,module,exports) {
module.exports=t;var e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function t(t){if(!t||!t.type)return null;var o=e[t.type];return o?"geometry"===o?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===o?{type:"FeatureCollection",features:[t]}:"featurecollection"===o?t:void 0:null}
},{}],"sC8V":[function(require,module,exports) {

},{}],"g5I+":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"uPhr":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=function(){"use strict";var e,t=/\s*.*.gpx:function(e){var t,r,n=o(e,"trk"),i=o(e,"rte"),s=o(e,"wpt"),u={type:"FeatureCollection",features:[]};for(t=0;t<n.length;t++)(r=g(n[t]))&&u.features.push(r);for(t=0;t<i.length;t++)(r=y(i[t]))&&u.features.push(r);for(t=0;t<s.length;t++)u.features.push(d(s[t]));function p(e,t){var r=o(e,t),n=[],i=[],a=[],s=r.length;if(s<2)return{};for(var l=0;l<s;l++){var u=m(r[l]);n.push(u.coordinates),u.time&&i.push(u.time),u.heartRate&&a.push(u.heartRate)}return{line:n,times:i,heartRates:a}}function g(e){for(var t,r=o(e,"trkseg"),n=[],i=[],a=[],s=0;s<r.length;s++)(t=p(r[s],"trkpt"))&&(t.line&&n.push(t.line),t.times&&t.times.length&&i.push(t.times),t.heartRates&&t.heartRates.length&&a.push(t.heartRates));if(0!==n.length){var u=k(e);return c(u,v(l(e,"extensions"))),i.length&&(u.coordTimes=1===n.length?i[0]:i),a.length&&(u.heartRates=1===n.length?a[0]:a),{type:"Feature",properties:u,geometry:{type:1===n.length?"LineString":"MultiLineString",coordinates:1===n.length?n[0]:n}}}}function y(e){var t=p(e,"rtept");if(t.line){var r=k(e);return c(r,v(l(e,"extensions"))),{type:"Feature",properties:r,geometry:{type:"LineString",coordinates:t.line}}}}function d(e){var t=k(e);return c(t,h(e,["sym"])),{type:"Feature",properties:t,geometry:{type:"Point",coordinates:m(e).coordinates}}}function v(e){var t={};if(e){var r=l(e,"line");if(r){var n=f(l(r,"color")),i=parseFloat(f(l(r,"opacity"))),o=parseFloat(f(l(r,"width")));n&&(t.stroke=n),isNaN(i)||(t["stroke-opacity"]=i),isNaN(o)||(t["stroke-width"]=96*o/25.4)}}return t}function k(e){var t=h(e,["name","cmt","desc","type","time","keywords"]),r=o(e,"link");r.length&&(t.links=[]);for(var n,i=0;i<r.length;i++)c(n={href:a(r[i],"href")},h(r[i],["text","type"])),t.links.push(n);return t}return u}}}();"undefined"!=typeof module&&(module.exports=t);
},{"xmldom":"sC8V","process":"g5I+"}],"db2n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("mapbox-gl")),t=o(require("cheap-ruler")),r=o(require("@mapbox/geojson-normalize")),n=o(require("@mapbox/togeojson"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){const n=t[0]-e[0],o=t[1]-e[1];return[e[0]+n*.*.gpx"===e||"kml"===e)return t=(new DOMParser).parseFromString(t,"text/xml"),g(n.default[e](t));throw"Unknown file format: "+e},tracks:e=>p(e,"LineString"),waypoints:e=>l((e=p(e,"Point")).features.map(e=>i(e.geometry.coordinates,{title:e.properties.name,symbol:e.properties.sym?e.properties.sym.toLowerCase():"embassy-11"}))),pois:e=>l(e.map(e=>i(e.coords,e.props))),emptyFeatureCollection:()=>l([])};var m=h;exports.default=m;
},{"mapbox-gl":"Kb8R","cheap-ruler":"wPyI","@mapbox/geojson-normalize":"lU0K","@mapbox/togeojson":"uPhr"}],"m44p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./paperformat.js")),r=n(require("./boundingbox.js")),t=n(require("./trackutils.js"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e,r){return l(e)||u(e,r)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e,r){var t=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(i){a=!0,o=i}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return t}function l(e){if(Array.isArray(e))return e}const i=function(t,n){let o=a(e.default.dimensions(n.format),2),u=o[0],l=o[1];u-=2*n.margin,l-=2*n.margin;const i=u/1e3*n.scale,s=l/1e3*n.scale,f=(u-2*n.padding)/1e3*n.scale,c=(l-2*n.padding)/1e3*n.scale,d=[];let y=new r.default(t.features[0].geometry.coordinates[0][1]);var v=!0,p=!1,h=void 0;try{for(var m,g=t.features[Symbol.iterator]();!(v=(m=g.next()).done);v=!0){const e=m.value;var x=!0,b=!1,w=void 0;try{for(var j,_=e.geometry.coordinates[Symbol.iterator]();!(x=(j=_.next()).done);x=!0){const e=j.value;let t=y.cloneBounds();y.extend(e),y.largerThan(f,c)&&(y.revertTo(t),y.resize(i,s),d.push(y.toFeature()),(y=new r.default(e[1])).extend(e))}}catch(q){b=!0,w=q}finally{try{x||null==_.return||_.return()}finally{if(b)throw w}}}}catch(q){p=!0,h=q}finally{try{v||null==g.return||g.return()}finally{if(p)throw h}}return y.resize(i,s),d.push(y.toFeature()),{type:"FeatureCollection",features:d}};var s=i;exports.default=s;
},{"./paperformat.js":"lP+j","./boundingbox.js":"P+I3","./trackutils.js":"db2n"}],"PqWU":[function(require,module,exports) {
function t(t,e){"boolean"==typeof e&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}module.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=(new Date).getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var i=this._timeouts.shift();if(void 0===i){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),i=this._timeouts.shift()}var o=this,r=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),o._options.unref&&o._timeout.unref()),o._fn(o._attempts)},i);return this._options.unref&&r.unref(),!0},t.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var i=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){i._operationTimeoutCb()},i._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},t.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,i=0,o=0;o<this._errors.length;o++){var r=this._errors[o],s=r.message,n=(t[s]||0)+1;t[s]=n,n>=i&&(e=r,i=n)}return e};
},{}],"Wk/2":[function(require,module,exports) {
var r=require("./retry_operation");exports.operation=function(t){var e=exports.timeouts(t);return new r(e,{forever:t&&t.forever,unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},exports.timeouts=function(r){if(r instanceof Array)return[].concat(r);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var e in r)t[e]=r[e];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],n=0;n<t.retries;n++)o.push(this.createTimeout(n,t));return r&&r.forever&&!o.length&&o.push(this.createTimeout(n,t)),o.sort(function(r,t){return r-t}),o},exports.createTimeout=function(r,t){var e=t.randomize?Math.random()+1:1,o=Math.round(e*t.minTimeout*Math.pow(t.factor,r));return o=Math.min(o,t.maxTimeout)},exports.wrap=function(r,t,e){if(t instanceof Array&&(e=t,t=null),!e)for(var o in e=[],r)"function"==typeof r[o]&&e.push(o);for(var n=0;n<e.length;n++){var i=e[n],a=r[i];r[i]=function(e){var o=exports.operation(t),n=Array.prototype.slice.call(arguments,1),i=n.pop();n.push(function(r){o.retry(r)||(r&&(arguments[0]=o.mainError()),i.apply(this,arguments))}),o.attempt(function(){e.apply(r,n)})}.bind(r,a),r[i].options=t}};
},{"./retry_operation":"PqWU"}],"NFGJ":[function(require,module,exports) {
module.exports=require("./lib/retry");
},{"./lib/retry":"Wk/2"}],"3XFs":[function(require,module,exports) {
"use strict";const r=require("retry");class t extends Error{constructor(r){super(),r instanceof Error?(this.originalError=r,({message:r}=r)):(this.originalError=new Error(r),this.originalError.stack=this.stack),this.name="AbortError",this.message=r}}module.exports=((e,o)=>new Promise((s,i)=>{o=Object.assign({onFailedAttempt:()=>{},retries:10},o);const n=r.operation(o);n.attempt(r=>{const a=o.retries-r;return Promise.resolve(r).then(e).then(s,e=>{e instanceof t?(n.stop(),i(e.originalError)):e instanceof TypeError?(n.stop(),i(e)):n.retry(e)?(e.attemptNumber=r,e.attemptsLeft=a,o.onFailedAttempt(e)):i(n.mainError())})})})),module.exports.AbortError=t;
},{"retry":"NFGJ"}],"4+U3":[function(require,module,exports) {
var global = arguments[3];
var t,n=arguments[3],e="pending",o="settled",r="fulfilled",i="rejected",c=function(){},a=void 0!==n&&void 0!==n.process&&"function"==typeof n.process.emit,u="undefined"==typeof setImmediate?setTimeout:setImmediate,s=[];function f(){for(var n=0;n<s.length;n++)s[n][0](s[n][1]);s=[],t=!1}function h(n,e){s.push([n,e]),t||(t=!0,u(f,0))}function l(t,n){function e(t){m(n,t)}try{t(function(t){y(n,t)},e)}catch(o){e(o)}}function d(t){var n=t.owner,e=n._state,o=n._data,c=t[e],a=t.then;if("function"==typeof c){e=r;try{o=c(o)}catch(u){m(a,u)}}p(a,o)||(e===r&&y(a,o),e===i&&m(a,o))}function p(t,n){var e;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"==typeof n)){var o=n.then;if("function"==typeof o)return o.call(n,function(o){e||(e=!0,n===o?_(t,o):y(t,o))},function(n){e||(e=!0,m(t,n))}),!0}}catch(r){return e||m(t,r),!0}return!1}function y(t,n){t!==n&&p(t,n)||_(t,n)}function _(t,n){t._state===e&&(t._state=o,t._data=n,h(v,t))}function m(t,n){t._state===e&&(t._state=o,t._data=n,h(j,t))}function w(t){t._then=t._then.forEach(d)}function v(t){t._state=r,w(t)}function j(t){t._state=i,w(t),!t._handled&&a&&n.process.emit("unhandledRejection",t._data,t)}function E(t){n.process.emit("rejectionHandled",t)}function T(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof T==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],l(t,this)}T.prototype={constructor:T,_state:e,_then:null,_data:void 0,_handled:!1,then:function(t,n){var e={owner:this,then:new this.constructor(c),fulfilled:t,rejected:n};return!n&&!t||this._handled||(this._handled=!0,this._state===i&&a&&h(E,this)),this._state===r||this._state===i?h(d,e):this._then.push(e),e.then},catch:function(t){return this.then(null,t)}},T.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new T(function(n,e){var o=[],r=0;function i(t){return r++,function(e){o[t]=e,--r||n(o)}}for(var c,a=0;a<t.length;a++)(c=t[a])&&"function"==typeof c.then?c.then(i(a),e):o[a]=c;r||n(o)})},T.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new T(function(n,e){for(var o,r=0;r<t.length;r++)(o=t[r])&&"function"==typeof o.then?o.then(n,e):n(o)})},T.resolve=function(t){return t&&"object"==typeof t&&t.constructor===T?t:new T(function(n){n(t)})},T.reject=function(t){return new T(function(n,e){e(t)})},module.exports=T;
},{}],"Ba8Z":[function(require,module,exports) {
"use strict";module.exports="function"==typeof Promise?Promise:require("pinkie");
},{"pinkie":"4+U3"}],"c5mc":[function(require,module,exports) {
var global = arguments[3];
var define;
var t,e=arguments[3];!function(e){"use strict";function r(t){var r=t&&t.Promise||e.Promise,o=t&&t.XMLHttpRequest||e.XMLHttpRequest,n=e;return function(){var t=Object.create(n,{fetch:{value:void 0,writable:!0}});return function(t){if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},s=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};y.prototype.append=function(t,e){t=f(t),e=h(e);var r=this.map[t];this.map[t]=r?r+","+e:e},y.prototype.delete=function(t){delete this.map[f(t)]},y.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},y.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},y.prototype.set=function(t,e){this.map[f(t)]=h(e)},y.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},y.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),d(t)},y.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),d(t)},y.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),d(t)},e.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);var a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},m.call(w.prototype),m.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},B.error=function(){var t=new B(null,{status:0,statusText:""});return t.type="error",t};var u=[301,302,303,307,308];B.redirect=function(t,e){if(-1===u.indexOf(e))throw new RangeError("Invalid status code");return new B(null,{status:e,headers:{location:t}})},t.Headers=y,t.Request=w,t.Response=B,t.fetch=function(t,n){return new r(function(r,i){var s=new w(t,n),a=new o;a.onload=function(){var t,e,o={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new y,t.split(/\r?\n/).forEach(function(t){var r=t.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();e.append(o,n)}}),e)};o.url="responseURL"in a?a.responseURL:o.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;r(new B(n,o))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(s.method,s.url,!0),"include"===s.credentials&&(a.withCredentials=!0),"responseType"in a&&e.blob&&(a.responseType="blob"),s.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===s._bodyInit?null:s._bodyInit)})},t.fetch.polyfill=!0}function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*.*.json=function(){return this.text().then(JSON.parse)},this}function w(t,e){var r,o,n=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new y(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new y(e.headers)),this.method=(r=e.method||this.method||"GET",o=r.toUpperCase(),a.indexOf(o)>-1?o:r),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}}),e}function B(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new y(e.headers),this.url=e.url||"",this._initBody(t)}}(void 0!==t?t:this),{fetch:t.fetch,Headers:t.Headers,Request:t.Request,Response:t.Response}}()}"function"==typeof t&&t.amd?t(function(){return r}):"object"==typeof exports?module.exports=r:e.fetchPonyfill=r}("undefined"!=typeof self?self:void 0!==e?e:this);
},{}],"tgmD":[function(require,module,exports) {
"use strict";module.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`));
},{}],"YtoU":[function(require,module,exports) {
"use strict";var e="%[a-f0-9]{2}",t=new RegExp(e,"gi"),r=new RegExp("("+e+")+","gi");function n(e,t){try{return decodeURIComponent(e.join(""))}catch(c){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],n(r),n(o))}function o(e){try{return decodeURIComponent(e)}catch(c){for(var r=e.match(t),o=1;o<r.length;o++)r=(e=n(r,o).join("")).match(t);return e}}function c(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(u){var c=o(n[0]);c!==n[0]&&(t[n[0]]=c)}n=r.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),p=0;p<a.length;p++){var i=a[p];e=e.replace(new RegExp(i,"g"),t[i])}return e}module.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return c(e)}};
},{}],"+4SV":[function(require,module,exports) {
"use strict";module.exports=((e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]});
},{}],"/TuM":[function(require,module,exports) {
"use strict";const e=require("strict-uri-encode"),r=require("decode-uri-component"),t=require("split-on-first");function n(e){switch(e.arrayFormat){case"index":return r=>(t,n)=>{const o=t.length;return void 0===n?t:null===n?[...t,[c(r,e),"[",o,"]"].join("")]:[...t,[c(r,e),"[",c(o,e),"]=",c(n,e)].join("")]};case"bracket":return r=>(t,n)=>void 0===n?t:null===n?[...t,[c(r,e),"[]"].join("")]:[...t,[c(r,e),"[]=",c(n,e)].join("")];case"comma":return r=>(t,n,o)=>null==n||0===n.length?t:0===o?[[c(r,e),"=",c(n,e)].join("")]:[[t,c(n,e)].join(",")];default:return r=>(t,n)=>void 0===n?t:null===n?[...t,c(r,e)]:[...t,[c(r,e),"=",c(n,e)].join("")]}}function o(e){let r;switch(e.arrayFormat){case"index":return(e,t,n)=>{r=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),r?(void 0===n[e]&&(n[e]={}),n[e][r[1]]=t):n[e]=t};case"bracket":return(e,t,n)=>{r=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),r?void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=[t]:n[e]=t};case"comma":return(e,r,t)=>{const n="string"==typeof r&&r.split("").indexOf(",")>-1?r.split(","):r;t[e]=n};default:return(e,r,t)=>{void 0!==t[e]?t[e]=[].concat(t[e],r):t[e]=r}}}function c(r,t){return t.encode?t.strict?e(r):encodeURIComponent(r):r}function i(e,t){return t.decode?r(e):e}function s(e){return Array.isArray(e)?e.sort():"object"==typeof e?s(Object.keys(e)).sort((e,r)=>Number(e)-Number(r)).map(r=>e[r]):e}function u(e){const r=e.indexOf("#");return-1!==r&&(e=e.slice(0,r)),e}function a(e){const r=(e=u(e)).indexOf("?");return-1===r?"":e.slice(r+1)}function l(e,r){const n=o(r=Object.assign({decode:!0,arrayFormat:"none"},r)),c=Object.create(null);if("string"!=typeof e)return c;if(!(e=e.trim().replace(/^[?#&]/,"")))return c;for(const o of e.split("&")){let[e,s]=t(o.replace(/\+/g," "),"=");s=void 0===s?null:i(s,r),n(i(e,r),s,c)}return Object.keys(c).sort().reduce((e,r)=>{const t=c[r];return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)?e[r]=s(t):e[r]=t,e},Object.create(null))}exports.extract=a,exports.parse=l,exports.stringify=((e,r)=>{if(!e)return"";const t=n(r=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},r)),o=Object.keys(e);return!1!==r.sort&&o.sort(r.sort),o.map(n=>{const o=e[n];return void 0===o?"":null===o?c(n,r):Array.isArray(o)?o.reduce(t(n),[]).join("&"):c(n,r)+"="+c(o,r)}).filter(e=>e.length>0).join("&")}),exports.parseUrl=((e,r)=>({url:u(e).split("?")[0]||"",query:l(a(e),r)}));
},{"strict-uri-encode":"tgmD","decode-uri-component":"YtoU","split-on-first":"+4SV"}],"EvTv":[function(require,module,exports) {
"use strict";const e=require("p-retry"),r=require("pinkie-promise"),{fetch:t}=require("fetch-ponyfill")({Promise:r}),{stringify:s}=require("query-string"),i="https://overpass-api.de/api/interpreter",n=r=>{return e(()=>t(i+"?"+s({data:r}),{redirect:"follow",headers:{accept:"application/json","user-agent":"http://github.com/derhuerst/vbb-osm-relations"}}).then(e=>{if(!e.ok){const r=new Error(e.statusText);throw r.statusCode=e.status,r}return e.json()}).then(e=>{if(!e||!Array.isArray(e.elements))throw new Error("invalid response");return e.elements}),{minTimeout:500})};module.exports=n;
},{"p-retry":"3XFs","pinkie-promise":"Ba8Z","fetch-ponyfill":"c5mc","query-string":"/TuM"}],"Ws0h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@derhuerst/query-overpass"));function t(e){return e&&e.__esModule?e:{default:e}}const r=new Map;function s(t,s){if(!r.has(s))throw new Error("Tag "+s+" unknown");return(0,e.default)(a(t,s)).then(e=>{let t=[];return e.forEach(e=>t.push({coords:[e.lon,e.lat],props:{name:e.tags.name||s[0].toUpperCase()+s.substr(1),symbol:r.get(s).sym}})),t}).catch(e=>{throw e})}function a(e,t){const s=[e.getSouth(),e.getWest(),e.getNorth(),e.getEast()].join(",");return`    [out:json][timeout:25];\n    node[${r.get(t).query}](${s});\n    out;`}r.set("atm",{query:"amenity~'atm|bank'",sym:"bank-11"}),r.set("bakery",{query:"shop=bakery",sym:"bakery-11"}),r.set("bike_shop",{query:"shop=bicycle",sym:"bicycle-11"}),r.set("cafe",{query:"amenity=cafe",sym:"cafe-11"}),r.set("camping",{query:"tourism=camp_site",sym:"campsite-11"}),r.set("drinking_water",{query:"amenity=drinking_water",sym:"drinking-water-11"}),r.set("graveyard",{query:"landuse=cemetery][amenity=grave_yard",sym:"cemetery-11"}),r.set("hospitals",{query:"amenity=hospital",sym:"hospital-11"}),r.set("information",{query:"information=office",sym:"information-11"}),r.set("pharmacy",{query:"amenity=pharmacy",sym:"pharmacy-11"}),r.set("picnic",{query:"tourism=picnic_site",sym:"picnic-site-11"}),r.set("restaurant",{query:"amenity=restaurant",sym:"restaurant-11"}),r.set("shelter",{query:"amenity=shelter",sym:"shelter-11"}),r.set("supermarket",{query:"shop~'supermarket|convenience'",sym:"grocery-11"});const n={loadPOIs(e,t){const r=[];return e.forEach(e=>{r.push(s(e.bbox,t))}),Promise.all(r).then(e=>e.reduce((e,t)=>e.concat(t))).catch(e=>{throw e})},mapping:()=>r};var o=n;exports.default=o;
},{"@derhuerst/query-overpass":"EvTv"}],"gouO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="MAPBOX_TOKEN";exports.default=e;
},{}],"DZIy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.POIs=exports.Milemarkers=exports.Cutouts=exports.Route=void 0;var e=i(require("./mapcutter.js")),t=i(require("./trackutils.js")),s=i(require("./layers.js"));function i(e){return e&&e.__esModule?e:{default:e}}class o{constructor(e,t){this._id=e,this._geojson=t||{}}get id(){return this._id}set id(e){this._id=e}get minzoom(){return 0}get geojson(){return this._geojson}set geojson(e){this._geojson=e}get features(){return this._geojson.features}addLayer(e){s.default.add(e,track)}updateLayerData(e){e.getSource(this._id).setData(this._geojson)}clearLayerData(e){e.getSource(this._id).setData({type:"FeatureCollection",features:[]})}get layer(){}}class r extends o{get layer(){return{id:this._id,source:this._id,type:"line",layout:{"line-join":"round","line-cap":"square"},paint:{"line-color":"#ff69b4","line-width":3,"line-opacity":.6}}}}exports.Route=r;class a extends o{get layer(){return{id:this._id,source:this._id,type:"line",paint:{"line-color":"#444444","line-width":2,"line-offset":-3,"line-opacity":.6,"line-dasharray":{stops:[[0,[1e3,0]],[12,[3,2]]]}}}}}exports.Cutouts=a;class l extends o{get layer(){return{id:this._id,source:this._id,type:"symbol",layout:{"icon-image":"marker-11","icon-offset":[0,-5],"icon-ignore-placement":!0,"text-field":"{title} km","text-anchor":"bottom","text-offset":[0,-.5],"text-size":11,"text-optional":!0}}}}exports.Milemarkers=l;class n extends o{get layer(){return{id:this._id,source:this._id,type:"symbol",layout:{"icon-image":"{symbol}","icon-ignore-placement":!0,"icon-allow-overlap":!0,"text-field":"{title}","text-anchor":"top","text-offset":[0,.5],"text-size":11,"text-allow-overlap":!0,"text-optional":!0}}}}exports.POIs=n;
},{"./mapcutter.js":"m44p","./trackutils.js":"db2n","./layers.js":"1PDS"}],"1AjR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=d(require("mapbox-gl")),e=d(require("@mapbox/mapbox-gl-language")),a=d(require("./i18n.js")),s=d(require("./layers.js")),r=d(require("./mapcutter.js")),i=d(require("./overpass.js")),n=d(require("./paperformat.js")),o=d(require("./mapboxtoken.js")),u=d(require("./trackutils.js")),l=require("./track.js");function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){return _(t)||g(t,e)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function g(t,e){var a=[],s=!0,r=!1,i=void 0;try{for(var n,o=t[Symbol.iterator]();!(s=(n=o.next()).done)&&(a.push(n.value),!e||a.length!==e);s=!0);}catch(u){r=!0,i=u}finally{try{s||null==o.return||o.return()}finally{if(r)throw i}}return a}function _(t){if(Array.isArray(t))return t}const p=new a.default;class m{constructor(a,s,r,i){if(t.default.accessToken=o.default,!t.default.supported())throw Error(p.translate("msg_mapbox_error"));this._tracks=s||new Map,this._details=r||{},this._language=i||new e.default({defaultLanguage:p.currentLanguage()});try{this._map=new t.default.Map(a)}catch(n){throw Error(p.translate("msg_mapbox_error"))}this._map.on("styledata",()=>this._updateAllTracks()),this._addControls()}_addControls(){this._map.addControl(new t.default.NavigationControl({showCompass:!1})),this._map.addControl(new t.default.ScaleControl),this._map.addControl(this._language)}_updateAllTracks(){this._tracks.forEach(t=>{this.addTrack(t),this.updateTrack(t)})}addTrack(t){this._tracks.set(t.id,t),s.default.add(this._map,t)}updateTrack(t){this._map.getSource(t.id).setData(t.geojson)}toggleVisibility(t,e){this._tracks.has(t)&&s.default.setVisibility(this._map,this._tracks.get(t).id,e)}changeTrackStyle(t){this._map.setPaintProperty("route",t.property,t.value)}loadRoute(t,e){let a=e.split(".").pop().toLowerCase();this._details.filename=e.substring(0,e.lastIndexOf("."));const s=u.default.togeojson(a,t);this.addTrack(new l.Route("route",u.default.tracks(s))),this.updateTrack(this._tracks.get("route")),this.addTrack(new l.POIs("waypoints",u.default.waypoints(s))),this.updateTrack(this._tracks.get("waypoints"));var r=h(u.default.elevation(s),4);this._details.ascent=r[0],this._details.descent=r[1],this._details.min_ele=r[2],this._details.max_ele=r[3],this._details.distance=u.default.totalDistance(s)}loadPOIs(t,e){this._tracks.has(t)||this.addTrack(new l.POIs(t,u.default.emptyFeatureCollection())),this.toggleVisibility(t,e),e&&i.default.loadPOIs(this.cutouts.features,t).then(e=>{console.log("Found "+e.length+" results for "+t),this.addTrack(new l.POIs(t,u.default.pois(e))),this.updateTrack(this._tracks.get(t))}).catch(e=>{console.error("Error fetching POIs for "+t+": "+e.message)})}roundWithUnit(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return void 0===t?"unknown":`${t.toFixed(e)}${a}`}getDetails(){let t=new Map;return t.set("track_length",this.roundWithUnit(this._details.distance,2,"km")),t.set("track_ascent_descent","Δ"+this.roundWithUnit(this._details.ascent,0,"m")+",  ∇"+this.roundWithUnit(this._details.descent,0,"m")),t.set("track_min_max_elevation","&DownArrowBar;"+this.roundWithUnit(this._details.min_ele,0,"m")+", &UpArrowBar;"+this.roundWithUnit(this._details.max_ele,0,"m")),t.set("map_sheets",this._details.mapCount),t}getPrintDetails(){let t=this.getDetails(),e=this.cutouts.features,a=this._tracks.get("route").geojson,s=t.get("map_sheets"),r=this.roundWithUnit;return function(i){let n=h(u.default.distanceInBounds(e[i-1],a),2),o=n[0],l=n[1],d=`${p.translateString("map")} ${i} ${p.translateString("msg_of")} ${s}`;return d+=` · ${r(o,2,"km")}`,d+=` · ${r(l,2,"km")} ${p.translateString("msg_of")} ${t.get("track_length")} total`}}updateCutouts(t){this.addTrack(new l.Cutouts("cutouts",(0,r.default)(this._tracks.get("route").geojson,t))),this.updateTrack(this._tracks.get("cutouts")),this._details.mapCount=this._tracks.get("cutouts").features.length}updateMilemarkers(t){this.addTrack(new l.Milemarkers("milemarkers",u.default.milemarkers(this._tracks.get("route").geojson,t))),this.updateTrack(this._tracks.get("milemarkers"))}updateBounds(t){this._map.fitBounds(u.default.bounds(this._tracks.get("cutouts").geojson),t)}get name(){return this._details.filename}set name(t){this._details.filename=t}routeName(){return this._tracks.get("route").geojson.features[0].properties.name||this.name}get cutouts(){return this._tracks.get("cutouts")}set style(t){this._map.removeControl(this._language),this._language=new e.default({defaultLanguage:p.currentLanguage()}),this._map.addControl(this._language),this._map.setStyle(t)}clearTracks(){this._tracks.forEach(t=>t.clearLayerData(this._map))}copyTo(t){return new m({container:t,style:this._map.getStyle(),interactive:!1,renderWorldCopies:!1,preserveDrawingBuffer:!0,fadeDuration:0},this._tracks,this._details,this._language)}remove(){this._map.remove()}cutoutMap(t,e,a){let s=t.properties.width>t.properties.height?"l":"p",r=h(n.default.dimensions(e,a,s),2),i=r[0],o=r[1],u=this.getPrintDetails();const l=this._map;return new Promise(function(r,n){f(l.getContainer(),i,o),l.resize(),l.setCenter(t.bbox.getCenter()),l.fitBounds(t.bbox,{duration:0}),l.on("render",function t(){if(l.loaded()){let n=l.getCanvas().toDataURL("image/jpeg",.9);r({format:e,orientation:s,data:n,margin:a,width:i,height:o,details:u}),l.off("render",t)}}),l.on("error",function(t){l.getContainer().parentNode.removeChild(l.getContainer()),n(Error(t.message))})})}}function f(t,e,a){t.style.width=k(e),t.style.height=k(a)}function k(t){return 96/25.4*t+"px"}var w=m;exports.default=w;
},{"mapbox-gl":"Kb8R","@mapbox/mapbox-gl-language":"vzXG","./i18n.js":"Ho1s","./layers.js":"1PDS","./mapcutter.js":"m44p","./overpass.js":"Ws0h","./paperformat.js":"lP+j","./mapboxtoken.js":"gouO","./trackutils.js":"db2n","./track.js":"DZIy"}],"Up3p":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,e=arguments[3];!function(e){"function"==typeof t&&t.amd?t(e):e()}(function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){if("object"!==n(t.console)){t.console={};for(var e,r,i=t.console,o=function(){},a=["memory"],s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=a.pop();)i[e]||(i[e]={});for(;r=s.pop();)i[r]||(i[r]=o)}var h,l,u,c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===t.btoa&&(t.btoa=function(t){var e,n,r,i,o,a=0,s=0,h="",l=[];if(!t)return t;for(;e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,l[s++]=f.charAt(e)+f.charAt(n)+f.charAt(r)+f.charAt(i),a<t.length;);h=l.join("");var u=t.length%3;return(u?h.slice(0,u-3):h)+"===".slice(u||3)}),void 0===t.atob&&(t.atob=function(t){var e,n,r,i,o,a,s=0,h=0,l=[];if(!t)return t;for(t+="";e=(a=f.indexOf(t.charAt(s++))<<18|f.indexOf(t.charAt(s++))<<12|(i=f.indexOf(t.charAt(s++)))<<6|(o=f.indexOf(t.charAt(s++))))>>16&255,n=a>>8&255,r=255&a,l[h++]=64==i?String.fromCharCode(e):64==o?String.fromCharCode(e,n):String.fromCharCode(e,n,r),s<t.length;);return l.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(null==this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=new Array(n),i=1<arguments.length?arguments[1]:void 0,o=0;o<n;o++)o in e&&(r[o]=t.call(i,e[o],o,e));return r}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;for(var n=Object(this),r=n.length>>>0,i=0;i<r;i++)i in n&&t.call(e,n[i],i,n)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(h=Object.prototype.hasOwnProperty,l=!{toString:null}.propertyIsEnumerable("toString"),c=(u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!==n(t)&&("function"!=typeof t||null===t))throw new TypeError;var e,r,i=[];for(e in t)h.call(t,e)&&i.push(e);if(l)for(r=0;r<c;r++)h.call(t,u[r])&&i.push(u[r]);return i})),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==e&&e||Function('return typeof this === "object" && this.content')()||Function("return this")());var r,i,o,a,s,h,l,u,c,f,p,d,g,m,y,v,w,b,x,N,L,A,S,_,F,P,k,I,C,B,j,E,M,O,q,T,R,D,U,z,H,W,V,G,Y,J,X,K,Z,Q,$,tt,et,nt,rt,it,ot,at,st,ht,lt,ut,ct=function(e){function r(t){if("object"!==n(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(t,e,n){if(n=n||!1,"string"!=typeof t||"function"!=typeof e||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(t)||(r[t]={});var i=Math.random().toString(35);return r[t][i]=[e,!!n],i},this.unsubscribe=function(t){for(var e in r)if(r[e][t])return delete r[e][t],0===Object.keys(r[e]).length&&delete r[e],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var a in r[n]){var s=r[n][a];try{s[0].apply(t,i)}catch(n){e.console&&console.error("jsPDF PubSub Error",n.message,n)}s[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function i(t,o,a,s){var h={},l=[],u=1;"object"===n(t)&&(t=(h=t).orientation,o=h.unit||o,a=h.format||a,s=h.compress||h.compressPdf||s,l=h.filters||(!0===s?["FlateEncode"]:l),u="number"==typeof h.userUnit?Math.abs(h.userUnit):1),o=o||"mm",t=(""+(t||"P")).toLowerCase();var c=h.putOnlyUsedFonts||!0,f={},p={internal:{},__private__:{}};p.__private__.PubSub=r;var d="1.3",g=p.__private__.getPdfVersion=function(){return d},m=(p.__private__.setPdfVersion=function(t){d=t},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),y=(p.__private__.getPageFormats=function(){return m},p.__private__.getPageFormat=function(t){return m[t]});"string"==typeof a&&(a=y(a)),a=a||y("a4");var v,w=p.f2=p.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},b=p.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return t.toFixed(3)},x="00000000000000000000000000000000",N=p.__private__.getFileId=function(){return x},L=p.__private__.setFileId=function(t){return t=t||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*.*.jsPDF}catch(n){}
},{}],"4Opu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("jspdf")),t=a(require("./layers.js"));function a(e){return e&&e.__esModule?e:{default:e}}class n{constructor(){this.actualPixelRatio=window.devicePixelRatio,this.canceled=!1}setPixelRatio(e){Object.defineProperty(window,"devicePixelRatio",{get:()=>e/96})}resetPixelRatio(){Object.defineProperty(window,"devicePixelRatio",{get:()=>this.actualPixelRatio})}cancel(){console.log("Canceling"),this.canceled=!0}generatePDF(t,a,n){this.setPixelRatio(a.dpi),console.time("PDF generation");const r=new e.default({compress:!0});r.setFontSize(9),r.deletePage(1);const s=i(t,a.format,a.margin),c=o(r);let l=0;const d=t.cutouts.features.length;n(l,d),t.cutouts.features.reduce((e,t)=>e.then(()=>this.canceled?Promise.reject(new Error("canceled by user")):s(t)).then(e=>{n(l++,d,this.canceled),c(e),console.log(`Generated map #${l}/${d}`)}),Promise.resolve()).then(()=>{if(!this.canceled){const e=`${t.name}.pdf`;console.log(`Saving ${e}`),r.save(e)}}).catch(e=>{console.log("PDF generation failed: "+e.name)}).then(()=>{console.timeEnd("PDF generation"),console.log("Clean up"),n(d,d,this.canceled),t.remove()})}}function i(e,t,a){return n=>e.cutoutMap(n,t,a)}function o(e){var t=0;const a=e.internal.getFontSize()/e.internal.scaleFactor,n=e.getStringUnitWidth("© Mapbox © OpenStreetMap")*a;return i=>{e.addPage(i.format,i.orientation),e.addImage({imageData:i.data,x:i.margin,y:i.margin,w:i.width,h:i.height,compression:"FAST",alias:"map"+t++});let o=i.margin+i.height+a;e.setTextColor(0,0,0),e.text(i.details(t),i.margin,o),e.setTextColor(105,105,105),e.text("© Mapbox © OpenStreetMap",i.margin+i.width-n,o)}}var r=n;exports.default=r;
},{"jspdf":"Up3p","./layers.js":"1PDS"}],"Ds8E":[function(require,module,exports) {
module.exports="example.gpx";
},{}],"H99C":[function(require,module,exports) {
"use strict";var e=d(require("./formvalidator.js")),t=d(require("./mapbox.js")),a=d(require("./printmap.js")),n=d(require("./i18n.js")),r=d(require("./overpass.js")),i=d(require("./paperformat.js")),l=d(require("../assets/example.gpx"));function d(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return u(e)||c(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var l,d=e[Symbol.iterator]();!(n=(l=d.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(s){r=!0,i=s}finally{try{n||null==d.return||d.return()}finally{if(r)throw i}}return a}function u(e){if(Array.isArray(e))return e}let m;const g=document.getElementById("config"),v=document.getElementById("generate-btn"),p=new e.default,f=new n.default;function h(){document.getElementById("example-gpx").addEventListener("click",()=>{m.name&&(p.resetInvalidForms(),E(),m.clearTracks());const e=new XMLHttpRequest;e.open("GET",l.default,!0),e.onload=function(e){200==this.status&&b(new Blob([this.response]),"example.gpx")},e.send()}),g.trackFile.addEventListener("change",function(){b(this.files[0]),this.value=null}),g.querySelector("#remove-track").addEventListener("click",()=>{m.name="",p.resetInvalidForms(),E(),m.clearTracks()}),g.style.addEventListener("change",function(){m.style=A(this.value)}),g.scale.addEventListener("change",()=>_()),p.add({form:g.scale,validity:e=>e>=5e3,msg:f.translateString("validate_scale")}),g.paperformat.addEventListener("change",()=>_()),g.milemarkers.addEventListener("change",()=>m.updateMilemarkers(g.milemarkers.value)),p.add({form:g.milemarkers,validity:e=>e>=0,msg:f.translateString("validate_larger_zero")}),g.margin.addEventListener("change",()=>_()),p.add({form:g.margin,validity:e=>e>=0&&e<=50,msg:f.translateString("validate_between_zero_and_fifty")}),g.padding.addEventListener("change",()=>_()),p.add({form:g.padding,validity:e=>e>=0&&e<=50,msg:f.translateString("validate_between_zero_and_fifty")}),g.dpi.addEventListener("change",()=>{I(),_()}),p.add({form:g.dpi,validity:e=>e>0,msg:f.translateString("validate_larger_zero")}),g.trackWidth.addEventListener("change",()=>m.changeTrackStyle({property:"line-width",value:parseInt(g.trackWidth.value,10)})),p.add({form:g.trackWidth,validity:e=>e>0,msg:f.translateString("validate_larger_zero")}),g.trackColor.addEventListener("change",()=>m.changeTrackStyle({property:"line-color",value:g.trackColor.value})),g.showWaypoints.addEventListener("change",()=>m.toggleVisibility("waypoints",g.showWaypoints.checked)),y(),Array.from(document.getElementById("overpass").getElementsByTagName("input")).forEach(e=>{e.addEventListener("change",()=>{m.loadPOIs(e.dataset.tag,e.checked)})}),v.addEventListener("click",x),f.translateAll()}function y(){let e=0,t='<div class="row">';r.default.mapping().forEach((a,n)=>{t+=`<div class="col form-check form-check-inline">\n      <input id="${n}" data-tag="${n}" type="checkbox" class="form-check-input disableable" disabled>\n      <label class="form-check-label" for="${n}" data-trn="${n}"></label>\n      </div>\n      `,e++%2&&(t+='</div><div class="row">')}),t+="</div>",document.getElementById("overpass").innerHTML=t}function b(e,t){const a=t||e.name,n=new FileReader;n.onload=function(){try{m.loadRoute(n.result,a)}catch(e){return void T("Loading "+a+" failed. "+e.message)}m.updateCutouts({scale:g.scale.value,format:g.paperformat.value,margin:g.margin.value,padding:g.padding.value}),m.updateMilemarkers(g.milemarkers.value),m.updateBounds({padding:10}),E(),w(),g.trackFileName.value=m.routeName()||a},n.readAsText(e)}function E(){L(".hidable"),g.querySelectorAll(".disableable").forEach(e=>S(e)),k()}function L(e){g.querySelectorAll(e).forEach(e=>{e.classList.toggle("hidden")})}function k(){v.hasAttribute("disabled")?p.allValid()&&v.removeAttribute("disabled"):v.setAttribute("disabled",!0)}function S(e){e.hasAttribute("disabled")?e.removeAttribute("disabled"):e.setAttribute("disabled",!0)}function w(e){let t=g.querySelector("#trackDetailsTable");t.innerHTML="";var a=!0,n=!1,r=void 0;try{for(var i,l=m.getDetails()[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){let e=s(i.value,2),a=e[0],n=e[1],r=t.insertRow();r.insertCell(0).dataset.trn=a,r.insertCell(1).innerHTML=n}}catch(d){n=!0,r=d}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}f.translate(t)}function _(){p.allValid()&&(m.updateCutouts({scale:g.scale.value,format:g.paperformat.value,margin:g.margin.value,padding:g.padding.value}),w())}function x(){const e=new a.default,t=q(e);e.generatePDF(m.copyTo("hidden-map"),{format:g.paperformat.value,margin:parseInt(g.margin.value,10),dpi:parseInt(g.dpi.value,10)},t)}function q(e){const t=document.querySelector("#progress-text"),a=document.querySelector("#progress-bar"),n=document.querySelector("#modal"),r=document.querySelector("#modal-overlay"),i=document.querySelector("#cancel-button");return n.classList.remove("hidden"),r.classList.remove("hidden"),i.addEventListener("click",function(){e.cancel()}),function(e,i,l){let d=Math.trunc(100/i*(e+1))+"%";a.style.width=d,a.innerHTML=d;let s=f.translateString("map");s+=` ${e+1} ${f.translateString("msg_of")} ${i}`,l&&(s=f.translateString("msg_canceling")),e===i&&(n.classList.add("hidden"),r.classList.add("hidden")),t.innerHTML=s}}function I(){const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl"),a=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(a<2048)throw new Error(f.translateString("msg_no_render"));2048===a&&T(f.translateString("msg_render_a6"));const n=25.4*Math.min(a,4096)/parseInt(g.dpi.value,10),r=i.default.validFormats(n*n),l=g.paperformat;l.options.length=0,r.forEach(e=>{let t=document.createElement("option");t.text=M(e),t.value=e,l.add(t)}),l.value=r.indexOf("a5")>=0?"a5":r[r.length-1]}function T(e){const t=document.getElementById("alertbox");t.querySelector(".close").addEventListener("click",function(){t.classList.add("hidden")}),t.querySelector("#alert-msg").innerHTML=e,t.classList.remove("hidden")}function A(e){const t="en"===f.currentLanguage();switch(e){case"streets":case"outdoors":case"satellite-streets":return"mapbox://styles/mapbox/"+e+"-v10?optimize="+t;case"navigation-guidance-day":case"navigation-guidance-night":return"mapbox://styles/mapbox/"+e+"-v2?optimize="+t;default:return"mapbox://styles/mapbox/"+e+"-v9?optimize="+t}}function M(e){return e[0].toUpperCase()+e.slice(1)}!function(){try{m=new t.default({container:"map",style:A("outdoors"),center:[14.8,47.5],zoom:7,hash:!0}),I()}catch(e){return document.getElementById("main").classList.add("hidden"),void T(e.message)}p.enableWhenAllValid(v),h()}();
},{"./formvalidator.js":"9qmE","./mapbox.js":"1AjR","./printmap.js":"4Opu","./i18n.js":"Ho1s","./overpass.js":"Ws0h","./paperformat.js":"lP+j","../assets/example.gpx":"Ds8E"}]},{},["H99C"], null)